<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>fetch-외부에서 데이터 가져오기(txt 파일)</title>
</head>
<body>
<!-- 
	fetch()는 JavaScript에서 HTTP요청을 보내는 API이다.
	Ajax의 XMLHttpRequest의 대체 기능으로 등장했다.
	** 비동기적으로 데이터를 가져오는 데 사용된다.
 -->
 <button id="btn">불러오기(sample.txt)</button>
 <div id="log"></div>
 
 
 <script type="text/javascript">
 const btn = document.querySelector("#btn");
 const log = document.querySelector("#log");
 
 
 btn.addEventListener("click", ()=>{
	//fetch(url) : url에 있는 데이터 가져오기(비동기), 반환형 : Promise
	// 반환형 : Promise이므로 결과를 then, catch로 받아서 사용할 수 있다.
	fetch('sample.txt')
	.then((data) => {return data.text()})
/* 	.then(data => data.text()) // {return} 함계 생략 가능, => 전에 인자 1개면 괄호 생략 가능 즉 위에문장과 같은 것 */
	.then((text) => {
		// 위 then에서 return 한 정보를 받아서 처리
/* 		log.innerHTML = text;
		log.innerText = text; */
		log.textContent = text + "@@";
	})
 });
 
 </script>

</body>
</html>